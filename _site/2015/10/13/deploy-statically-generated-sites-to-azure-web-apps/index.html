<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Deploy statically generated sites to Azure Web Apps &#8211; Zain Rizvi</title>
<meta name="description" content="There are a lot of awesome static site generators out there.  It’s not always easy to figure out how to setup continuous deployment for them though.

">
<meta name="keywords" content="">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Deploy statically generated sites to Azure Web Apps">
<meta name="twitter:description" content="There are a lot of awesome static site generators out there.  It’s not always easy to figure out how to setup continuous deployment for them though.

">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Deploy statically generated sites to Azure Web Apps">
<meta property="og:description" content="There are a lot of awesome static site generators out there.  It’s not always easy to figure out how to setup continuous deployment for them though.

">
<meta property="og:url" content="/2015/10/13/deploy-statically-generated-sites-to-azure-web-apps/">
<meta property="og:site_name" content="Zain Rizvi">

<meta property="og:image" content="/images/default-thumb.png">






<link rel="canonical" href="/2015/10/13/deploy-statically-generated-sites-to-azure-web-apps/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Zain Rizvi Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

        <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
        <style type="text/css">
            div.mc_embed_signup{background:#E1F1FF; clear:left; font:14px Helvetica,Arial,sans-serif; padding: 10px;  border-style: solid; border-color: #7DABD4; border-radius: 10px}
            /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
            We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style>
</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Zain Rizvi</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav id="site-nav" class="nav">
		    <ul>
		        
				    
				    <li><a href="/blog/" >Blog</a></li>
				
				    
				    <li><a href="/about/" >About</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->




<div id="main" role="main">
  <div class="article-author-side">
    

<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/bio-photo.png" class="bio-photo" alt="Zain Rizvi bio photo">


  <h3 itemprop="name">Zain Rizvi</h3>
  <p>Programmer, experimenter, life-long student. Working at Microsoft in the Azure Web Apps team</p>
  
  
  
  
  
  
  
  
  <a href="http://github.com/ZainRizvi" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  <a href="http://stackoverflow.com/users/21539/zain-rizvi" class="author-social" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i> Stackoverflow</a>
  
  
  
  
  
  
  
  
  
  
</div>

    
      <hr />
      
        <!-- Begin MailChimp Signup Form -->
        <div class="mc_embed_signup" id="mc_embed_signup">
        <form action="//zainrizvi.us11.list-manage.com/subscribe/post?u=dbda45480a7b2dbd7af5b784e&amp;id=3978b7c9c7" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll">
            <h2>Want to learn about building web apps? Sign up here and get new posts delivered straight to your inbox</h2>
        <div class="mc-field-group">
            <label for="mce-FNAME">First Name </label>
            <input type="text" value="" name="FNAME" class="" id="mce-FNAME">
        </div>
        <div class="mc-field-group">
            <label for="mce-LNAME">Last Name </label>
            <input type="text" value="" name="LNAME" class="" id="mce-LNAME">
        </div>
        <div class="mc-field-group">
            <label for="mce-EMAIL">Email Address </label>
            <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
        </div>
            <div id="mce-responses" class="clear">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
            </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_dbda45480a7b2dbd7af5b784e_3978b7c9c7" tabindex="-1" value=""></div>
            <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
            </div>
        </form>
        </div>
        <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
        <!--End mc_embed_signup-->
  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/2015/10/13/deploy-statically-generated-sites-to-azure-web-apps/" rel="bookmark" title="Deploy statically generated sites to Azure Web Apps">Deploy statically generated sites to Azure Web Apps</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>There are a lot of awesome static site generators out there.  It’s not always easy to figure out how to setup continuous deployment for them though.</p>

<p>This post will describe how to deploy a statically generated site using yeoman angular to Azure Web Apps, but these steps can be applied to deploy any statically generated site to Azure Web Apps.</p>

<hr />

<h4 id="deploying-the-initial-site">Deploying the initial site</h4>
<p>I tried using yeoman’s gulp-angular generator.  I made a quick site following their <a href="http://yeoman.io/codelab/index.html">tutorial</a>, setup <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-publish-source-control/">continuous deployment via github</a>, navigated to the newly deployed site and I saw…huh?</p>

<p><img src="/images/2015/10/01-No-permission-to-site.png" alt="img" /></p>

<p>What’s going on here?</p>

<h4 id="using-kudu-for-debugging">Using Kudu for debugging</h4>
<p>Luckily all Azure Web Apps come with a handy <a href="https://github.com/projectkudu/kudu/wiki">Kudu site</a> that gives you command line access to your site. You can get to it at <code class="highlighter-rouge">https://&lt;yourSiteName&gt;.scm.azurewebsites.net\DebugConsole</code>.</p>

<p><img src="/images/2015/10/02-Kudu-console.png" alt="alt" /></p>

<p>I navigated to the site’s <code class="highlighter-rouge">D:\home\site\wwwroot</code> folder and saw all the content was there.  And that’s when I face-palmed and realized <em>that statically generated site is saved to the <code class="highlighter-rouge">dist</code> folder, and that’s not even part of the deployment!!!</em></p>

<p>Luckily, that’s easy enough to fix.</p>

<h4 id="check-the-static-site-into-the-source-code">Check the static site into the source code</h4>
<p>First issue was to include the <code class="highlighter-rouge">dist</code> folder in the source code. You just need to exclude the <code class="highlighter-rouge">/dist</code> line from the .gitignore file for that. <a href="https://github.com/ZainRizvi/YoAngularOnAzureWebApps/commit/3fc3040eb65699295e85c151f339dc30aae6c971#diff-a084b794bc0759e7a6b77810e01874f2">Easy enough</a>.</p>

<p>Now when you deploy your site to Azure Web Apps your site exists in the new <code class="highlighter-rouge">D:\home\site\wwwroot\dist</code> folder!</p>

<p><img src="/images/2015/10/03-Dist-folder-appears.png" alt="alt" />
(Fyi, with <code class="highlighter-rouge">yo angular</code> you have to run <code class="highlighter-rouge">grunt</code> once first before you check in your code to actually generate the <code class="highlighter-rouge">dist</code> folder).</p>

<p>But your site still doesn’t work…because Azure Web Apps is expecting the site’s content to be in <code class="highlighter-rouge">D:\home\site\wwwroot</code>.</p>

<p>Darn.</p>

<h4 id="custom-deployment-settings-to-the-rescue">Custom deployment settings to the rescue!</h4>

<p>Add a <code class="highlighter-rouge">.deployment</code> <a href="https://github.com/ZainRizvi/YoAngularOnAzureWebApps/commit/9be9a4b503a86678d85e3a4287fa26cce1f175b7">file</a> to the root folder of your code and paste the below inside:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[config]
project = dist
</code></pre>
</div>

<p>This will tell Azure Web Sits that the root folder for your site is the <code class="highlighter-rouge">dist</code> folder. Now your sites will be hosted from the <code class="highlighter-rouge">D:\home\site\wwwroot\dist</code> folder. If your static site generator puts your site in some other folder, set project to that folder’s name.</p>

<p>Check in the file, deploy it to Azure Web Apps, and see the magic happen.</p>

<p><img src="/images/2015/10/04-Working-site.png" alt="alt" /></p>

<p>You can find a full copy of the sample code here on Github, with check-ins corresponding to each step of this tutorial: https://github.com/ZainRizvi/YoAngularOnAzureWebApps</p>

<p>You can see the final working site here: http://yoangularonazurewebapps.azurewebsites.net</p>

      <hr />
      
        <!-- Begin MailChimp Signup Form -->
        <div class="mc_embed_signup" id="mc_embed_signup">
        <form action="//zainrizvi.us11.list-manage.com/subscribe/post?u=dbda45480a7b2dbd7af5b784e&amp;id=3978b7c9c7" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
            <div id="mc_embed_signup_scroll">
            <h2>Found this useful? Sign up to get more tips on building cloud services right in your inbox</h2>
        <div class="mc-field-group">
            <label for="mce-FNAME">First Name </label>
            <input type="text" value="" name="FNAME" class="" id="mce-FNAME">
        </div>
        <div class="mc-field-group">
            <label for="mce-LNAME">Last Name </label>
            <input type="text" value="" name="LNAME" class="" id="mce-LNAME">
        </div>
        <div class="mc-field-group">
            <label for="mce-EMAIL">Email Address </label>
            <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
        </div>
            <div id="mce-responses" class="clear">
                <div class="response" id="mce-error-response" style="display:none"></div>
                <div class="response" id="mce-success-response" style="display:none"></div>
            </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_dbda45480a7b2dbd7af5b784e_3978b7c9c7" tabindex="-1" value=""></div>
            <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
            </div>
        </form>
        </div>
        <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
        <!--End mc_embed_signup-->
      
      <hr/>
      
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/2015/10/13/deploy-statically-generated-sites-to-azure-web-apps/" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/2015/10/13/deploy-statically-generated-sites-to-azure-web-apps/" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/2015/10/13/deploy-statically-generated-sites-to-azure-web-apps/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Deploy statically generated sites to Azure Web Apps</strong> was published on <time datetime="2015-10-13T00:00:00-07:00">October 13, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
    
    
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/2016/03/24/create-site-with-facebook-login-using-asp.net-core/" title="Let customers use Facebook authentication to log into your ASP.NET Core site">Let customers use Facebook authentication to log into your ASP.NET Core site</a></li>
    
      <li><a href="/2015/06/05/creating-partial-backups-of-your-site-with-azure-web-apps/" title="Backup just the Important Parts of your Site with Azure Web Apps">Backup just the Important Parts of your Site with Azure Web Apps</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2016 Zain Rizvi. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'zainrizvi'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63901701-1', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>
